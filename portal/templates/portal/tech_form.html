{% extends "website/base.html" %}
{% block content %}
<div class="container py-4" style="max-width:820px;">
  <h1 class="h4 mb-3">{% if mode == "edit" %}Editează tehnician{% else %}Adaugă tehnician{% endif %}</h1>

  <form method="post" class="card p-4 shadow-sm">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="row g-3">
      <div class="col-md-6"><label class="form-label">Nume</label>{{ form.name }}{{ form.name.errors }}</div>
      <div class="col-md-6"><label class="form-label">Categorie</label>{{ form.category }}{{ form.category.errors }}</div>
      <div class="col-md-6"><label class="form-label">Nume companie</label>{{ form.company_name }}{{ form.company_name.errors }}</div>
      <div class="col-md-6"><label class="form-label">CIF companie</label>{{ form.company_cif }}{{ form.company_cif.errors }}</div>
      <div class="col-md-6"><label class="form-label">Email</label>{{ form.email }}{{ form.email.errors }}</div>
      <div class="col-md-6"><label class="form-label">Telefon</label>{{ form.phone }}{{ form.phone.errors }}</div>
      <div class="col-12"><label class="form-label">Adresă</label>{{ form.address }}{{ form.address.errors }}</div>
      <div class="col-12">
        <div class="form-check form-switch">
          {{ form.is_active }} <label class="form-check-label ms-2">Activ</label>
        </div>
      </div>
    </div>

    <div class="d-flex gap-2 justify-content-end mt-4">
      <a class="btn btn-outline-secondary" href="{% url 'tech_list' %}">Înapoi</a>
      <button class="btn btn-primary" type="submit">Salvează</button>
    </div>
  </form>
</div>

<script>
  (function(){
    document.querySelectorAll("input,textarea,select").forEach(el=>{
      if(el.type==="checkbox") return;
      el.classList.add(el.tagName==="SELECT" ? "form-select" : "form-control");
    });
  })();
</script>
{% endblock %}
